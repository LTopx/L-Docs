import { Callout } from "nextra/components";

# Environment Variables

Currently, all environment variable configurations of Le-AI are **optional**, which means it can still function properly without any configuration. Different environment variable configurations can achieve different functionalities.

## Vercel Configuration

<Callout type="info" emoji="ℹ️">
  Since the current service only considers deployment to Vercel, there will be
  some Vercel-specific configurations. We will consider supporting other
  deployment methods in the future.
</Callout>

#### `CRON_SECRET`

Cron secret for scheduled tasks on Vercel. This variable can only be configured on Vercel and will not work if added to the local env file.

## Database Configuration

#### `DATABASE_URL`

Database connection URL address.

- Example: `postgresql://USER:PASSWORD@HOST:PORT/DATABASE`
- If not configured, all content related to the database cannot be used.

## ChatGPT API Configuration

#### `NEXT_PUBLIC_OPENAI_API_KEY`

Your OpenAI API Key.

- If configured correctly, you don't need to configure the OpenAI API Key on the key configuration page to use it.

#### `NEXT_PUBLIC_OPENAI_API_PROXY`

OpenAI API proxy address.

- If not configured, the default OpenAI official domain will be used: https://api.openai.com

#### `NEXT_PUBLIC_AZURE_OPENAI_API_KEY`

Your Azure OpenAI API Key. [Reference link](/api-key-configure/azure)

- If configured correctly, you don't need to configure the Azure API Key on the key configuration page to use it.

#### `NEXT_PUBLIC_AZURE_OPENAI_RESOURCE_NAME`

Your Azure OpenAI resource name. [Reference link](/api-key-configure/azure)

- If not configured, you won't be able to use the Azure interface and an error message will be displayed when users attempt to request azure interface.

#### `NEXT_AZURE_OPENAPI_VERSION`

Azure OpenAPI version.

- Default value: `2023-07-01-preview`
- The default version is subject to change at any time. If not configured, the version specified in the code will be used.

## NextAuth Configuration

<Callout emoji="⚠️" type="warning">
  If NextAuth related configurations are not set, the user login module will be
  disabled.
</Callout>

### Auth Secret

#### `NEXT_PUBLIC_AUTH_SECRET`

NextAuth Secret configuration. [Reference link](https://next-auth.js.org/configuration/options#secret)

### Email Login

<Callout emoji="👾">
  Only when all configurations are set, can you log in with "Email".
</Callout>

#### `NEXT_PUBLIC_EMAIL_SERVER_HOST`

Host address of the email used for verification.

#### `NEXT_PUBLIC_EMAIL_SERVER_PORT`

Port number of the email used for verification.

#### `NEXT_PUBLIC_EMAIL_SERVER_USER`

Username of the email used for verification.

#### `NEXT_PUBLIC_EMAIL_SERVER_PASSWORD`

Password of the email used for verification.

#### `NEXT_PUBLIC_EMAIL_FROM` (optional)

Source address of the email used for verification. Configuring this allows users to see the source address after receiving an email.

### Github Login

<Callout emoji="👾">
  Only when all configurations are set, can you log in with "Github". [Reference
  link](https://next-auth.js.org/providers/github#options)
</Callout>

#### `NEXT_PUBLIC_GITHUB_ID`

Github id

#### `NEXT_PUBLIC_GITHUB_SECRET`

Github secret

### Google Login

<Callout emoji="👾">
  Only when all configurations are set, can you log in with "Google". [Reference
  link](https://next-auth.js.org/providers/google)
</Callout>

#### `NEXT_PUBLIC_GOOGLE_CLIENT_ID`

Google id

#### `NEXT_PUBLIC_GOOGLE_CLIENT_SECRET`

Google secret

## Upstash Redis Configuration

<Callout emoji="👾">
  Only when all configurations are set, the Redis will be called to record the
  number of views for session sharing.
</Callout>

#### `NEXT_PUBLIC_UPSTASH_REDIS_REST_URL`

Upstash Redis URL

#### `NEXT_PUBLIC_UPSTASH_REDIS_REST_TOKEN`

Upstash Redis token

## Lemon Squeezy Configuration

#### `NEXT_PUBLIC_LEMONSQUEEZY_API_KEY`

Only when both "Lemon Squeezy" and "NextAuth" configurations are set, the "Login" module will be enabled.

## Azure TTS Configuration

<Callout emoji="👾">
  The voice function will only be enabled when all configurations are set.
</Callout>

#### `NEXT_PUBLIC_AZURE_TTS_KEY`

Key for Azure TTS service

#### `NEXT_PUBLIC_AZURE_TTS_REGION`

Deployment region for Azure TTS service

## UMAMI Website Analytics Configuration

<Callout emoji="👾">
  The website analytics function will only be enabled when all configurations
  are set. [Reference link](https://umami.is/docs/getting-started)
</Callout>

#### `NEXT_PUBLIC_UMAMI_SCRIPT_URL`

Umami script URL

#### `NEXT_PUBLIC_UMAMI_WEBSITE_ID`

Umami website ID

## Complete Configuration Example

```bash copy
# ChatGPT API Configuration
NEXT_PUBLIC_OPENAI_API_KEY=
NEXT_PUBLIC_OPENAI_API_PROXY=
NEXT_PUBLIC_AZURE_OPENAI_API_KEY=
NEXT_PUBLIC_AZURE_OPENAI_RESOURCE_NAME=
NEXT_AZURE_OPENAI_API_VERSION=

# Database Configuration
DATABASE_URL=

# NextAuth Configuration
NEXT_PUBLIC_EMAIL_SERVER_HOST=
NEXT_PUBLIC_EMAIL_SERVER_PORT=
NEXT_PUBLIC_EMAIL_SERVER_USER=
NEXT_PUBLIC_EMAIL_SERVER_PASSWORD=
NEXT_PUBLIC_EMAIL_FROM=
NEXT_PUBLIC_GITHUB_ID=
NEXTPUBLIC_GITHUB_SECRET=
NEXTPUBLIC_GOOGLE_CLIENT_ID=
NEXTPUBLIC_GOOGLE_CLIENT_SECRET=
NEXTPUBLIC_AUTH_SECRET=

# Upstash Redis Configuration
NEXTPUBLIC_UPSTASH_REDIS_REST_URL=
NEXTPUBLIC_UPSTASH_REDIS_REST_TOKEN=

# Lemon Squeezy Configuration
NEXTPUBLIC_LEMONSQUEEZY_API_KEY=

# Azure TTS Configuration
NEXTPUBLIC_AZURE_TTS_KEY=
NEXTPUBLIC_AZURE_TTS_REGION=

# UMAMI Website Analytics
NEXTPUBLIC_UMAMI_SCRIPT_URL=
NEXTPUBLIC_UMAMI_WEBSITE_ID=

# Other Configurations
# Vercel Cron Secret
CRON_SECRET=
```
